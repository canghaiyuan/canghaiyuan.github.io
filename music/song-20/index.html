<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet">
    <title>如果我们在余生相遇 - RE-D/是二哈ya</title>
    <style>
        /* 自定义样式 */
        #lyrics-container {
            height: 200px;
            overflow-y: auto;
        }
        .lyric-line {
            cursor: pointer;
        }
        .lyric-line.highlight {
            color: blue;
        }
        .dark-mode {
            background-color: #1a202c;
            color: #fff;
        }
        .dark-mode a {
            color: #4299e1;
        }
        .dark-mode input {
            background-color: #2d3748;
            color: #fff;
            border-color: #4a5568;
        }
        .dark-mode #lyrics-container {
            background-color: #2d3748;
        }
        .dark-mode .lyric-line.highlight {
            color: #4299e1;
        }
    </style>
</head>
<body class="bg-gray-100">
    <header class="bg-blue-500 text-white p-4">
        <h1 class="text-2xl font-bold">如果我们在余生相遇 - RE-D/是二哈ya</h1>
        <div class="flex space-x-4">
            <select id="language-select" class="border border-gray-300 p-1">
                <option value="en">English</option>
                <option value="zh">中文</option>
            </select>
            <button id="theme-toggle" class="border border-gray-300 p-1">
                <i class="fa-solid fa-moon"></i>
            </button>
        </div>
    </header>
    <main class="container mx-auto p-4">
        <div class="flex flex-col md:flex-row gap-4">
            <div class="w-full md:w-1/3">
                
                <img src="如果我们在余生相遇·双鱼座 - 是二哈ya,RE-D.jpg" alt="如果我们在余生相遇 cover" class="w-full h-auto rounded shadow">
                
            </div>
            <div class="w-full md:w-2/3">
                <audio controls class="w-full">
                    <source src="如果我们在余生相遇·双鱼座 - 是二哈ya,RE-D.mp3" type="audio/mpeg">
                    Your browser does not support the audio element.
                </audio>
                <div id="lyrics-container">
                    
                    <p class="lyric-line" data-timestamp="0.0">如果我们在余生相遇-RE-D/是二哈ya</p>
                    
                    <p class="lyric-line" data-timestamp="0.18">作词Lyricist：郑浩</p>
                    
                    <p class="lyric-line" data-timestamp="0.37">作曲Composer：郑浩</p>
                    
                    <p class="lyric-line" data-timestamp="0.55">编曲Arranger：郭秀枫</p>
                    
                    <p class="lyric-line" data-timestamp="0.74">吉他Guitar：Tommy Wu</p>
                    
                    <p class="lyric-line" data-timestamp="0.92">和声Backing Vocalist：陈奕楠</p>
                    
                    <p class="lyric-line" data-timestamp="1.11">混音工程师Mixing Engineer：郭秀枫</p>
                    
                    <p class="lyric-line" data-timestamp="1.29">制作人Music Producer：蔡樱瑞</p>
                    
                    <p class="lyric-line" data-timestamp="1.48">监制Musical Supervisor：颜陌</p>
                    
                    <p class="lyric-line" data-timestamp="1.66">出品人Publisher：颜陌</p>
                    
                    <p class="lyric-line" data-timestamp="1.85">OP：联合互娱</p>
                    
                    <p class="lyric-line" data-timestamp="2.03">「版权所有未经许可请勿使用」</p>
                    
                    <p class="lyric-line" data-timestamp="2.22">如果未来碰上伯乐</p>
                    
                    <p class="lyric-line" data-timestamp="4.5">爱情碰上双鱼座</p>
                    
                    <p class="lyric-line" data-timestamp="7.02">它们连在一起我会不会是幸福的</p>
                    
                    <p class="lyric-line" data-timestamp="12.27">如果未来遇上伯乐</p>
                    
                    <p class="lyric-line" data-timestamp="14.82">伴随流星雨做客</p>
                    
                    <p class="lyric-line" data-timestamp="17.34">它们连在一起我会不会是幸运的</p>
                    
                    <p class="lyric-line" data-timestamp="22.59">如果落霞捋上轻舟</p>
                    
                    <p class="lyric-line" data-timestamp="25.14">孤独熬成一碗粥</p>
                    
                    <p class="lyric-line" data-timestamp="27.63">都说年少不知少年愁</p>
                    
                    <p class="lyric-line" data-timestamp="35.7">时针还在滴答滴答的转</p>
                    
                    <p class="lyric-line" data-timestamp="38.19">琴弦拨动了你的情歌奏响儿时的片段</p>
                    
                    <p class="lyric-line" data-timestamp="40.77">对不起MOM</p>
                    
                    <p class="lyric-line" data-timestamp="41.73">我没有完成你盼大的梦想</p>
                    
                    <p class="lyric-line" data-timestamp="43.38">只是把梦想变成现实太过于奢望</p>
                    
                    <p class="lyric-line" data-timestamp="45.93">梦游到太空漫步</p>
                    
                    <p class="lyric-line" data-timestamp="47.19">我重新寻找归途</p>
                    
                    <p class="lyric-line" data-timestamp="48.48">现实比末日残酷</p>
                    
                    <p class="lyric-line" data-timestamp="49.77">借飞鸟翅膀追逐</p>
                    
                    <p class="lyric-line" data-timestamp="51.24">vans 搭配supreme</p>
                    
                    <p class="lyric-line" data-timestamp="52.38">穿上最爱的LiNing</p>
                    
                    <p class="lyric-line" data-timestamp="53.64">美丽的童话藏在我心底</p>
                    
                    <p class="lyric-line" data-timestamp="56.04">如果未来碰上伯乐</p>
                    
                    <p class="lyric-line" data-timestamp="58.71">爱情碰上双鱼座</p>
                    
                    <p class="lyric-line" data-timestamp="61.2">它们连在一起我会不会是幸福的</p>
                    
                    <p class="lyric-line" data-timestamp="66.45">如果余生有浪漫的星河</p>
                    
                    <p class="lyric-line" data-timestamp="69.69">日子慢慢过</p>
                    
                    <p class="lyric-line" data-timestamp="71.55">愿天上亮的星星不再被白昼浸没</p>
                    
                    <p class="lyric-line" data-timestamp="76.89">迷恋星空中的星星无需被你点缀</p>
                    
                    <p class="lyric-line" data-timestamp="79.53">爱上冬天的暖窝和夏季的玫瑰</p>
                    
                    <p class="lyric-line" data-timestamp="82.05">迷恋卖红薯的女孩和人鱼的眼泪</p>
                    
                    <p class="lyric-line" data-timestamp="84.63">爱上枕边梦填满了四季的衣柜</p>
                    
                    <p class="lyric-line" data-timestamp="87.24">若能在未来遇到属于我的女友</p>
                    
                    <p class="lyric-line" data-timestamp="89.46000000000001">我会带她去西雅图赏日落烟火</p>
                    
                    <p class="lyric-line" data-timestamp="92.52000000000001">把爱挥霍进浪漫四季的尽头</p>
                    
                    <p class="lyric-line" data-timestamp="95.37">青春的烦恼全部抛脑后</p>
                    
                    <p class="lyric-line" data-timestamp="97.47">如果未来碰上伯乐</p>
                    
                    <p class="lyric-line" data-timestamp="99.99000000000001">爱情碰上双鱼座</p>
                    
                    <p class="lyric-line" data-timestamp="102.50999999999999">它们连在一起我会不会是幸福的</p>
                    
                    <p class="lyric-line" data-timestamp="107.72999999999999">如果余生有浪漫的星河</p>
                    
                    <p class="lyric-line" data-timestamp="110.97">日子慢慢过</p>
                    
                    <p class="lyric-line" data-timestamp="112.83">愿天上亮的星星不再被白昼浸没</p>
                    
                    <p class="lyric-line" data-timestamp="118.02000000000001">如果未来遇上伯乐</p>
                    
                    <p class="lyric-line" data-timestamp="120.63">伴随流星雨做客</p>
                    
                    <p class="lyric-line" data-timestamp="123.15">它们连在一起我会不会是幸运的</p>
                    
                    <p class="lyric-line" data-timestamp="128.37">如果落霞捋上轻舟</p>
                    
                    <p class="lyric-line" data-timestamp="130.98">孤独熬成一碗粥</p>
                    
                    <p class="lyric-line" data-timestamp="133.47">都说年少不知少年愁</p>
                    
                    <p class="lyric-line" data-timestamp="138.66">由我的fans 她们在玩</p>
                    
                    <p class="lyric-line" data-timestamp="140.73">hold down 的白气走几百公里都不暖</p>
                    
                    <p class="lyric-line" data-timestamp="143.31">好安静披围巾</p>
                    
                    <p class="lyric-line" data-timestamp="144.66">太坦白雪大得多的冬季</p>
                    
                    <p class="lyric-line" data-timestamp="145.92000000000002">像melody 的花季</p>
                    
                    <p class="lyric-line" data-timestamp="147.09">零下摄氏度的北京</p>
                    
                    <p class="lyric-line" data-timestamp="149.73">直到我一把抱住你</p>
                    
                    <p class="lyric-line" data-timestamp="151.11">摘一弯月亮送给你</p>
                    
                    <p class="lyric-line" data-timestamp="152.43">你说你喜欢哈士奇</p>
                    
                    <p class="lyric-line" data-timestamp="153.69">逛宠物店我陪着你</p>
                    
                    <p class="lyric-line" data-timestamp="155.01">打算就这样牵着你的手走下去</p>
                    
                    <p class="lyric-line" data-timestamp="157.38">陪着你</p>
                    
                    <p class="lyric-line" data-timestamp="159.42000000000002">如果未来碰上伯乐</p>
                    
                    <p class="lyric-line" data-timestamp="161.94">爱情碰上双鱼座</p>
                    
                    <p class="lyric-line" data-timestamp="164.43">它们连在一起我会不会是幸福的</p>
                    
                    <p class="lyric-line" data-timestamp="169.65">如果余生有浪漫的星河</p>
                    
                    <p class="lyric-line" data-timestamp="172.89">日子慢慢过</p>
                    
                    <p class="lyric-line" data-timestamp="174.78">愿天上亮的星星不再被白昼浸没</p>
                    
                    <p class="lyric-line" data-timestamp="179.94">但愿我在幸福之间唱一首老歌</p>
                    
                    <p class="lyric-line" data-timestamp="185.4">你其实都没有听过</p>
                    
                    <p class="lyric-line" data-timestamp="190.29">但愿我在幸福之间再唱一首老歌</p>
                    
                    <p class="lyric-line" data-timestamp="196.05">音梦之旅有没有和谁说过</p>
                    
                    <p class="lyric-line" data-timestamp="200.67000000000002">如果未来碰上伯乐</p>
                    
                    <p class="lyric-line" data-timestamp="203.22">爱情碰上双鱼座</p>
                    
                    <p class="lyric-line" data-timestamp="205.77">它们连在一起我会不会是幸福的</p>
                    
                    <p class="lyric-line" data-timestamp="210.96">如果余生有浪漫的星河</p>
                    
                    <p class="lyric-line" data-timestamp="214.2">日子慢慢过</p>
                    
                    <p class="lyric-line" data-timestamp="216.06">愿天上亮的星星不再被白昼浸没</p>
                    
                    <p class="lyric-line" data-timestamp="221.25">如果未来遇上伯乐</p>
                    
                    <p class="lyric-line" data-timestamp="223.82999999999998">伴随流星雨做客</p>
                    
                    <p class="lyric-line" data-timestamp="226.38">它们连在一起我会不会是幸运的</p>
                    
                    <p class="lyric-line" data-timestamp="231.6">如果落霞捋上轻舟</p>
                    
                    <p class="lyric-line" data-timestamp="234.18">孤独熬成一碗粥</p>
                    
                    <p class="lyric-line" data-timestamp="236.7">都说年少不知少年愁</p>
                    
                    <p class="lyric-line" data-timestamp="241.89">如果巨蟹遇上双鱼</p>
                    
                    <p class="lyric-line" data-timestamp="244.47">途中遇上丘比特</p>
                    
                    <p class="lyric-line" data-timestamp="246.99">就像热恋中的伴侣一直很快乐</p>
                    
                    <p class="lyric-line" data-timestamp="252.18">如果未来可以改变余生碰上你了</p>
                    
                    <p class="lyric-line" data-timestamp="257.31">我想我是幸运的</p>
                    
                </div>
                <button id="download-button" class="border border-gray-300 p-2 mt-2" onclick="downloadSong('如果我们在余生相遇·双鱼座 - 是二哈ya,RE-D.mp3')">Download</button>
                <input type="password" id="download-password" class="border border-gray-300 p-2 mt-2" placeholder="Enter password">
            </div>
        </div>
        <div class="flex space-x-2 mt-4">
            <a href="#" class="text-blue-500" onclick="shareTo('weibo', window.location.href); return false;">
                <i class="fa-brands fa-weibo"></i>
            </a>
            <a href="#" class="text-blue-500" onclick="shareTo('twitter', window.location.href); return false;">
                <i class="fa-brands fa-twitter"></i>
            </a>
            <a href="#" class="text-blue-500" onclick="shareTo('qq', window.location.href); return false;">
                <i class="fa-brands fa-qq"></i>
            </a>
        </div>
        <!-- Waline 评论区容器 -->
        <div id="waline" class="mt-4"></div>
    </main>
    <script>
        const audio = document.querySelector('audio');
        const lyricsContainer = document.getElementById('lyrics-container');
        const lyricLines = lyricsContainer.getElementsByClassName('lyric-line');
        const languageSelect = document.getElementById('language-select');
        const themeToggle = document.getElementById('theme-toggle');
        const downloadButton = document.getElementById('download-button');
        const downloadPassword = document.getElementById('download-password');

        audio.addEventListener('timeupdate', function () {
            const currentTime = this.currentTime;
            for (let i = 0; i < lyricLines.length; i++) {
                const line = lyricLines[i];
                const timestamp = parseFloat(line.dataset.timestamp);
                if (i === lyricLines.length - 1) {
                    if (currentTime >= timestamp) {
                        setHighlight(line);
                    }
                } else {
                    const nextLine = lyricLines[i + 1];
                    const nextTimestamp = parseFloat(nextLine.dataset.timestamp);
                    if (currentTime >= timestamp && currentTime < nextTimestamp) {
                        setHighlight(line);
                        break;
                    }
                }
            }
        });

        function setHighlight(line) {
            for (let i = 0; i < lyricLines.length; i++) {
                lyricLines[i].classList.remove('highlight');
            }
            line.classList.add('highlight');
            line.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        for (let i = 0; i < lyricLines.length; i++) {
            const line = lyricLines[i];
            line.addEventListener('click', function () {
                const timestamp = parseFloat(this.dataset.timestamp);
                audio.currentTime = timestamp;
            });
        }

        languageSelect.addEventListener('change', function () {
            const lang = this.value;
            fetch(`language/${lang}.json`)
              .then(response => response.json())
              .then(data => {
                    // 简单示例，替换标题
                    document.title = `${data.song_title_prefix} ${'如果我们在余生相遇 - RE-D/是二哈ya'}`;
                    downloadButton.textContent = data.download_button_text;
                    downloadPassword.placeholder = data.download_password_placeholder;
                });
        });

        themeToggle.addEventListener('click', function () {
            document.body.classList.toggle('dark-mode');
            if (document.body.classList.contains('dark-mode')) {
                this.innerHTML = '<i class="fa-solid fa-sun"></i>';
            } else {
                this.innerHTML = '<i class="fa-solid fa-moon"></i>';
            }
        });

        function shareTo(platform, url) {
            let shareUrl;
            switch (platform) {
                case 'weibo':
                    shareUrl = `https://service.weibo.com/share/share.php?url=${encodeURIComponent(url)}`;
                    break;
                case 'twitter':
                    shareUrl = `https://twitter.com/intent/tweet?url=${encodeURIComponent(url)}`;
                    break;
                case 'qq':
                    shareUrl = `http://connect.qq.com/widget/shareqq/index.html?url=${encodeURIComponent(url)}`;
                    break;
            }
            window.open(shareUrl, '_blank');
        }

        function downloadSong(mp3Url) {
            const password = downloadPassword.value;
            if (password === '123456') {
                const a = document.createElement('a');
                a.href = mp3Url;
                a.download = mp3Url;
                a.click();
            } else {
                alert('Incorrect password');
            }
        }

        // Waline 配置
        Waline.init({
            el: '#waline',
            serverURL: 'https://walineycyyq.netlify.app/'
        });
    </script>
    <script src="https://unpkg.com/@waline/client@v2/dist/waline.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css" />
</body>
</html>    