<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <script src="https://cdn.tailwindcss.com"></script>
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.7.2/css/all.min.css" rel="stylesheet">
    <title>离别开出花 - 就是南方凯（项学凯） - Unknown Artist</title>
    <style>
        /* 自定义样式 */
        #lyrics-container {
            height: 200px;
            overflow-y: auto;
        }
        .lyric-line {
            cursor: pointer;
        }
        .lyric-line.highlight {
            color: blue;
        }
        .dark-mode {
            background-color: #1a202c;
            color: #fff;
        }
        .dark-mode a {
            color: #4299e1;
        }
        .dark-mode input {
            background-color: #2d3748;
            color: #fff;
            border-color: #4a5568;
        }
        .dark-mode #lyrics-container {
            background-color: #2d3748;
        }
        .dark-mode .lyric-line.highlight {
            color: #4299e1;
        }
    </style>
</head>
<body class="bg-gray-100">
    <header class="bg-blue-500 text-white p-4">
        <h1 class="text-2xl font-bold">离别开出花 - 就是南方凯（项学凯） - Unknown Artist</h1>
        <div class="flex space-x-4">
            <select id="language-select" class="border border-gray-300 p-1">
                <option value="en">English</option>
                <option value="zh">中文</option>
            </select>
            <button id="theme-toggle" class="border border-gray-300 p-1">
                <i class="fa-solid fa-moon"></i>
            </button>
        </div>
    </header>
    <main class="container mx-auto p-4">
        <div class="flex flex-col md:flex-row gap-4">
            <div class="w-full md:w-1/3">
                
                <img src="离别开出花 - 就是南方凯（项学凯）.webp" alt="离别开出花 - 就是南方凯（项学凯） cover" class="w-full h-auto rounded shadow">
                
            </div>
            <div class="w-full md:w-2/3">
                <audio controls class="w-full">
                    <source src="离别开出花 - 就是南方凯（项学凯）.mp3" type="audio/mpeg">
                    Your browser does not support the audio element.
                </audio>
                <div id="lyrics-container">
                    
                    <p class="lyric-line" data-timestamp="0.0">作词 : 李浩瑞</p>
                    
                    <p class="lyric-line" data-timestamp="0.87">作曲 : 李浩瑞</p>
                    
                    <p class="lyric-line" data-timestamp="1.74">制作人 : 刘涛/李浩瑞</p>
                    
                    <p class="lyric-line" data-timestamp="2.61">编曲 : 谭侃侃</p>
                    
                    <p class="lyric-line" data-timestamp="3.48">吉他/贝斯 : 谭侃侃</p>
                    
                    <p class="lyric-line" data-timestamp="4.36">混音工程师 : 袁中仁</p>
                    
                    <p class="lyric-line" data-timestamp="5.23">母带后期混音师 : 袁中仁</p>
                    
                    <p class="lyric-line" data-timestamp="6.1">和声 : 李浩瑞/谭侃侃/顾雄/袁中仁/夹_zZ</p>
                    
                    <p class="lyric-line" data-timestamp="6.97">和声编写 : 李浩瑞/顾雄</p>
                    
                    <p class="lyric-line" data-timestamp="7.84">配唱制作人 : 刘涛/李浩瑞</p>
                    
                    <p class="lyric-line" data-timestamp="8.72">录音师 : 袁中仁</p>
                    
                    <p class="lyric-line" data-timestamp="9.59">人声编辑 : 刘涛</p>
                    
                    <p class="lyric-line" data-timestamp="10.46">视觉设计 : kidult.</p>
                    
                    <p class="lyric-line" data-timestamp="11.33">监制 : 许雯静Vivian Xu@索尼音乐/刘嘉雄Charles Liu@索尼音乐</p>
                    
                    <p class="lyric-line" data-timestamp="12.2">策划总监 : 左三好</p>
                    
                    <p class="lyric-line" data-timestamp="13.08">营销推广 : 祝鑫</p>
                    
                    <p class="lyric-line" data-timestamp="13.95">混音室 : 好乐无荒混音棚（长沙）</p>
                    
                    <p class="lyric-line" data-timestamp="14.82">录音棚 : 好乐无荒录音棚（长沙）</p>
                    
                    <p class="lyric-line" data-timestamp="15.69">制作公司 : 好乐无荒</p>
                    
                    <p class="lyric-line" data-timestamp="16.56">OP/SP : 好乐无荒</p>
                    
                    <p class="lyric-line" data-timestamp="17.44">项目统筹 : 宋旭辉Shawn Song@索尼音乐/李若嫣Ruoyan Li@索尼音乐</p>
                    
                    <p class="lyric-line" data-timestamp="18.31">统筹 : 赵楚峰Chufeng Zhao@索尼音乐</p>
                    
                    <p class="lyric-line" data-timestamp="19.18">总监制 : 陈国威Andrew Chan@索尼音乐</p>
                    
                    <p class="lyric-line" data-timestamp="20.05">联合企划 : 大声密谋</p>
                    
                    <p class="lyric-line" data-timestamp="20.94">坐上那朵离家的云霞</p>
                    
                    <p class="lyric-line" data-timestamp="25.44">飘去无人知晓的天涯</p>
                    
                    <p class="lyric-line" data-timestamp="29.97">背着妈妈说的那句话</p>
                    
                    <p class="lyric-line" data-timestamp="34.47">孩子人生其实不复杂</p>
                    
                    <p class="lyric-line" data-timestamp="37.46"></p>
                    
                    <p class="lyric-line" data-timestamp="37.74">喔～眼泪轻轻地擦</p>
                    
                    <p class="lyric-line" data-timestamp="41.01">别管那多嘴乌鸦</p>
                    
                    <p class="lyric-line" data-timestamp="43.05">咽下那些风沙</p>
                    
                    <p class="lyric-line" data-timestamp="45.54">你才能慢慢长大</p>
                    
                    <p class="lyric-line" data-timestamp="47.55">要错过几个她</p>
                    
                    <p class="lyric-line" data-timestamp="49.92">用你最好的年华</p>
                    
                    <p class="lyric-line" data-timestamp="52.32">这是青春的代价</p>
                    
                    <p class="lyric-line" data-timestamp="54.93"></p>
                    
                    <p class="lyric-line" data-timestamp="55.2">当离别开出花</p>
                    
                    <p class="lyric-line" data-timestamp="57.09">伸出新长的枝桠</p>
                    
                    <p class="lyric-line" data-timestamp="59.64">像冬去春又来</p>
                    
                    <p class="lyric-line" data-timestamp="61.65">等待心雪融化</p>
                    
                    <p class="lyric-line" data-timestamp="63.81"></p>
                    
                    <p class="lyric-line" data-timestamp="64.23">你每次离开家</p>
                    
                    <p class="lyric-line" data-timestamp="66.18">带着远方的牵挂</p>
                    
                    <p class="lyric-line" data-timestamp="68.76">那城市的繁华</p>
                    
                    <p class="lyric-line" data-timestamp="70.68">盖住了月牙</p>
                    
                    <p class="lyric-line" data-timestamp="72.88"></p>
                    
                    <p class="lyric-line" data-timestamp="73.28999999999999">当离别开出花</p>
                    
                    <p class="lyric-line" data-timestamp="75.53999999999999">它生长在悬崖</p>
                    
                    <p class="lyric-line" data-timestamp="77.78999999999999">在最高的山顶</p>
                    
                    <p class="lyric-line" data-timestamp="79.74">才听得见回答</p>
                    
                    <p class="lyric-line" data-timestamp="81.91"></p>
                    
                    <p class="lyric-line" data-timestamp="82.32">没什么好害怕</p>
                    
                    <p class="lyric-line" data-timestamp="84.24">孩子放心去飞吧</p>
                    
                    <p class="lyric-line" data-timestamp="87.09">在你的身后</p>
                    
                    <p class="lyric-line" data-timestamp="88.83">有个等你的家</p>
                    
                    <p class="lyric-line" data-timestamp="92.00999999999999"></p>
                    
                    <p class="lyric-line" data-timestamp="102.45">坐上那朵离家的云霞</p>
                    
                    <p class="lyric-line" data-timestamp="106.95">飘去无人知晓的天涯</p>
                    
                    <p class="lyric-line" data-timestamp="111.50999999999999">背着妈妈说的那句话</p>
                    
                    <p class="lyric-line" data-timestamp="115.97999999999999">孩子人生其实不复杂</p>
                    
                    <p class="lyric-line" data-timestamp="118.75"></p>
                    
                    <p class="lyric-line" data-timestamp="119.22">喔～眼泪轻轻地擦</p>
                    
                    <p class="lyric-line" data-timestamp="122.4">别忘那童年梦话</p>
                    
                    <p class="lyric-line" data-timestamp="124.56">散在远方的花</p>
                    
                    <p class="lyric-line" data-timestamp="126.96">也随风慢慢长大</p>
                    
                    <p class="lyric-line" data-timestamp="129.06">要错过几个她</p>
                    
                    <p class="lyric-line" data-timestamp="131.4">用你最真的年华</p>
                    
                    <p class="lyric-line" data-timestamp="133.8">这是青春的回答</p>
                    
                    <p class="lyric-line" data-timestamp="136.46"></p>
                    
                    <p class="lyric-line" data-timestamp="136.74">当离别开出花</p>
                    
                    <p class="lyric-line" data-timestamp="138.57">伸出新长的枝桠</p>
                    
                    <p class="lyric-line" data-timestamp="141.15">像冬去春又来</p>
                    
                    <p class="lyric-line" data-timestamp="143.16">等待心雪融化</p>
                    
                    <p class="lyric-line" data-timestamp="145.27"></p>
                    
                    <p class="lyric-line" data-timestamp="145.74">你每次离开家</p>
                    
                    <p class="lyric-line" data-timestamp="147.69">带着远方的牵挂</p>
                    
                    <p class="lyric-line" data-timestamp="150.27">那城市的繁华</p>
                    
                    <p class="lyric-line" data-timestamp="152.22">盖住了月牙</p>
                    
                    <p class="lyric-line" data-timestamp="154.45"></p>
                    
                    <p class="lyric-line" data-timestamp="154.8">当离别开出花</p>
                    
                    <p class="lyric-line" data-timestamp="157.02">它生长在悬崖</p>
                    
                    <p class="lyric-line" data-timestamp="159.3">在最高的山顶</p>
                    
                    <p class="lyric-line" data-timestamp="161.25">才听得见回答</p>
                    
                    <p class="lyric-line" data-timestamp="163.09"></p>
                    
                    <p class="lyric-line" data-timestamp="163.86">没什么好害怕</p>
                    
                    <p class="lyric-line" data-timestamp="165.81">孩子放心去飞吧</p>
                    
                    <p class="lyric-line" data-timestamp="168.69">在你的身后</p>
                    
                    <p class="lyric-line" data-timestamp="170.34">有个等你的家</p>
                    
                    <p class="lyric-line" data-timestamp="172.73"></p>
                    
                    <p class="lyric-line" data-timestamp="173.01">当离别开出花</p>
                    
                    <p class="lyric-line" data-timestamp="174.78">伸出新长的枝桠</p>
                    
                    <p class="lyric-line" data-timestamp="177.36">像冬去春又来</p>
                    
                    <p class="lyric-line" data-timestamp="179.37">等待心雪融化</p>
                    
                    <p class="lyric-line" data-timestamp="181.25"></p>
                    
                    <p class="lyric-line" data-timestamp="181.92">你每次离开家</p>
                    
                    <p class="lyric-line" data-timestamp="183.87">带着远方的牵挂</p>
                    
                    <p class="lyric-line" data-timestamp="186.48">那城市的繁华</p>
                    
                    <p class="lyric-line" data-timestamp="188.43">盖住了月牙</p>
                    
                    <p class="lyric-line" data-timestamp="190.68"></p>
                    
                    <p class="lyric-line" data-timestamp="191.07">当离别开出花</p>
                    
                    <p class="lyric-line" data-timestamp="193.23">它生长在悬崖</p>
                    
                    <p class="lyric-line" data-timestamp="195.51">在最高的山顶</p>
                    
                    <p class="lyric-line" data-timestamp="197.49">才听得见回答</p>
                    
                    <p class="lyric-line" data-timestamp="199.32999999999998"></p>
                    
                    <p class="lyric-line" data-timestamp="200.07">没什么好害怕</p>
                    
                    <p class="lyric-line" data-timestamp="202.07999999999998">孩子放心去飞吧</p>
                    
                    <p class="lyric-line" data-timestamp="204.87">在你的身后</p>
                    
                    <p class="lyric-line" data-timestamp="206.55">有个等你的家</p>
                    
                    <p class="lyric-line" data-timestamp="209.48"></p>
                    
                    <p class="lyric-line" data-timestamp="225.71">（本作品声明：著作权权利保留，未经许可，不得使用）</p>
                    
                </div>
                <button id="download-button" class="border border-gray-300 p-2 mt-2" onclick="downloadSong('离别开出花 - 就是南方凯（项学凯）.mp3')">Download</button>
                <input type="password" id="download-password" class="border border-gray-300 p-2 mt-2" placeholder="Enter password">
            </div>
        </div>
        <div class="flex space-x-2 mt-4">
            <a href="#" class="text-blue-500" onclick="shareTo('weibo', window.location.href); return false;">
                <i class="fa-brands fa-weibo"></i>
            </a>
            <a href="#" class="text-blue-500" onclick="shareTo('twitter', window.location.href); return false;">
                <i class="fa-brands fa-twitter"></i>
            </a>
            <a href="#" class="text-blue-500" onclick="shareTo('qq', window.location.href); return false;">
                <i class="fa-brands fa-qq"></i>
            </a>
        </div>
        <!-- Waline 评论区容器 -->
        <div id="waline" class="mt-4"></div>
    </main>
    <script>
        const audio = document.querySelector('audio');
        const lyricsContainer = document.getElementById('lyrics-container');
        const lyricLines = lyricsContainer.getElementsByClassName('lyric-line');
        const languageSelect = document.getElementById('language-select');
        const themeToggle = document.getElementById('theme-toggle');
        const downloadButton = document.getElementById('download-button');
        const downloadPassword = document.getElementById('download-password');

        audio.addEventListener('timeupdate', function () {
            const currentTime = this.currentTime;
            for (let i = 0; i < lyricLines.length; i++) {
                const line = lyricLines[i];
                const timestamp = parseFloat(line.dataset.timestamp);
                if (i === lyricLines.length - 1) {
                    if (currentTime >= timestamp) {
                        setHighlight(line);
                    }
                } else {
                    const nextLine = lyricLines[i + 1];
                    const nextTimestamp = parseFloat(nextLine.dataset.timestamp);
                    if (currentTime >= timestamp && currentTime < nextTimestamp) {
                        setHighlight(line);
                        break;
                    }
                }
            }
        });

        function setHighlight(line) {
            for (let i = 0; i < lyricLines.length; i++) {
                lyricLines[i].classList.remove('highlight');
            }
            line.classList.add('highlight');
            line.scrollIntoView({ behavior: 'smooth', block: 'center' });
        }

        for (let i = 0; i < lyricLines.length; i++) {
            const line = lyricLines[i];
            line.addEventListener('click', function () {
                const timestamp = parseFloat(this.dataset.timestamp);
                audio.currentTime = timestamp;
            });
        }

        languageSelect.addEventListener('change', function () {
            const lang = this.value;
            fetch(`language/${lang}.json`)
              .then(response => response.json())
              .then(data => {
                    // 简单示例，替换标题
                    document.title = `${data.song_title_prefix} ${'离别开出花 - 就是南方凯（项学凯） - Unknown Artist'}`;
                    downloadButton.textContent = data.download_button_text;
                    downloadPassword.placeholder = data.download_password_placeholder;
                });
        });

        themeToggle.addEventListener('click', function () {
            document.body.classList.toggle('dark-mode');
            if (document.body.classList.contains('dark-mode')) {
                this.innerHTML = '<i class="fa-solid fa-sun"></i>';
            } else {
                this.innerHTML = '<i class="fa-solid fa-moon"></i>';
            }
        });

        function shareTo(platform, url) {
            let shareUrl;
            switch (platform) {
                case 'weibo':
                    shareUrl = `https://service.weibo.com/share/share.php?url=${encodeURIComponent(url)}`;
                    break;
                case 'twitter':
                    shareUrl = `https://twitter.com/intent/tweet?url=${encodeURIComponent(url)}`;
                    break;
                case 'qq':
                    shareUrl = `http://connect.qq.com/widget/shareqq/index.html?url=${encodeURIComponent(url)}`;
                    break;
            }
            window.open(shareUrl, '_blank');
        }

        function downloadSong(mp3Url) {
            const password = downloadPassword.value;
            if (password === '123456') {
                const a = document.createElement('a');
                a.href = mp3Url;
                a.download = mp3Url;
                a.click();
            } else {
                alert('Incorrect password');
            }
        }

        // Waline 配置
        Waline.init({
            el: '#waline',
            serverURL: 'https://walineycyyq.netlify.app/'
        });
    </script>
    <script src="https://unpkg.com/@waline/client@v2/dist/waline.js"></script>
    <link rel="stylesheet" href="https://unpkg.com/@waline/client@v2/dist/waline.css" />
</body>
</html>    